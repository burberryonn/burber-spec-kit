---
description: "Шаблон задач для реализации фичи в архитектуре FSD + Vite + React + TypeScript + Mantine"
---

# Задачи: [FEATURE NAME]

**Исходные документы**: `/specs/[###-feature-name]/plan.md`, `spec.md`, `research.md`, `data-model.md`, `contracts/`  
**Предпосылки**: Все `NEEDS CLARIFICATION` закрыты или вынесены в риски.

> Тесты и финальные проверки выполняются после завершения функционала (фаза Verify).

---

## Формат записи

`[ID] [P?] [Story] Описание`

- `[ID]` — порядковый номер `T001`, `T002`, …
- `[P?]` — отметка параллельной задачи
- `[Story]` — принадлежность к пользовательской истории (`US1`, `US2`, …)
- Описание должно содержать точный путь (`src/features/.../ui/...`)

---

## Фаза 1. Инициализация

- [ ] T001 Создать структуру FSD (`app`, `shared`, `entities`, `features`, `widgets`, `pages`, `processes`)
- [ ] T002 Настроить конфигурацию (`package.json`, `tsconfig.*`, `vite.config.ts`, `eslint`, `prettier`, `vitest`)
- [ ] T003 [P] Подключить алиасы (`vite-tsconfig-paths`), настроить `editorconfig`, Husky/Conventional Commits (если используется)
- [ ] T004 [P] Добавить GitHub Actions (lint, typecheck, build)

---

## Фаза 2. Инфраструктура

- [ ] T010 Настроить провайдеры в `src/app` (MantineProvider, Router, i18n, Zustand store)
- [ ] T011 Создать Mantine theme (`shared/config/theme.ts`) и базовые UI-обёртки (`shared/ui`)
- [ ] T012 Добавить глобальную обработку ошибок, Layout (`src/pages/_layout.tsx`), навигацию
- [ ] T013 [P] Определить базовые entities (`src/entities/user`, …) и mock API
- [ ] T014 [P] Настроить `docs/architecture.md`, `docs/roadmap.md`, ADR за стартовые решения

**Чекпоинт**: инфраструктура готова, user story можно реализовывать независимо.

---

## Фаза 3. История 1 — [Название] (P1)

- [ ] T020 [P][US1] Создать сущности/типы в `src/entities/...`
- [ ] T021 [US1] Реализовать бизнес-логику в `src/features/.../model.ts`
- [ ] T022 [US1] Создать UI-компоненты на Mantine в `src/features/.../ui/`
- [ ] T023 [US1] Собрать виджет/страницу (`src/widgets/...`, `src/pages/...`)
- [ ] T024 [US1] Обновить маршрутизацию (`src/app/router.tsx`), локализации

**Чекпоинт**: история готова, критерии приёмки выполнены.

---

## Фаза 4. История 2 — [Название] (P2)

[Продолжи по шаблону: сущности → фичи → UI → страницы → интеграция.]

---

## Фаза 5. История 3 — [Название] (P3)

[Добавь дополнительные фазы при необходимости.]

---

## Финальная фаза. Verify & Docs

- [ ] T090 Обновить документацию (`docs/architecture.md`, `docs/roadmap.md`, ADR, changelog)
- [ ] T091 Проверить чеклисты в `specs/[...]/checklists/`
- [ ] T092 Выполнить `npm run lint`, `npm run typecheck`, `npm run build`, `npm run preview`
- [ ] T093 Настроить и запустить Vitest + Testing Library (smoke критичных сценариев)
- [ ] T094 [P] Провести a11y-ревью Mantine компонентов, проверить ARIA
- [ ] T095 Проставить `[x]` во всех задачах `tasks.md`, зафиксировать вывод

---

## Зависимости и параллельность

- Фазы выполняются последовательно (1 → 2 → истории → Verify).
- `[P]` внутри фаз означает возможность параллельного выполнения (разные файлы).
- Истории после P1 допускается вести параллельно, если инфраструктура готова и нет конфликтов.

---

## Стратегия поставки

1. Фазы 1–3 (P1) → демонстрация MVP.
2. Инкременты для P2/P3 → отдельные поставки, поддерживая независимость историй.
3. Финальная фаза Verify → тесты, документация, подготовка релиза.

---

## Примечания

- Соблюдай архитектуру FSD и соглашения TypeScript strict.
- Mantine theme и компоненты — единственный источник UI (никакого Tailwind).
- Новые зависимости требуют ADR и обоснования.
