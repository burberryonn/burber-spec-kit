# План реализации: [FEATURE NAME]

**Ветка**: `[###-feature-name]` | **Дата**: [DATE] | **Спецификация**: [link]  
**Артефакт**: `/specs/[###-feature-name]/spec.md`  
**Исполнитель**: Roo Code (перед стартом перечитай `.specify/memory/constitution.md`).

---

## Резюме

[Сформулируй главную цель фичи, ключевые ограничения и ожидаемый результат. Укажи, что реализация ведётся на стеке FSD + Vite + React + Tailwind + shadcn/ui.]

---

## Технический контекст

- **Бандлер и инструментальная цепочка**: Vite (React-шаблон). Версии и свежие рекомендации подтяни через context7 (`resolve-library-id` / `get-library-docs`).
- **UI-стек**: Tailwind CSS + shadcn/ui. Компоненты размещаем в `shared/ui`, переопределения — через темы и утилиты Tailwind.
- **Язык**: JavaScript (ESNext). TypeScript подключаем только при явном требовании спецификации.
- **Архитектура**: Feature-Sliced Design — уровни `app`, `processes`, `pages`, `widgets`, `features`, `entities`, `shared`.
- **Состояние/данные**: [Описание или `NEEDS CLARIFICATION`].
- **Нефункциональные цели**: [SLA, перформанс, доступность. Укажи источники из context7].
- **Внешние зависимости**: [API, интеграции, если есть].

---

## Проверка конституции

*Проверить до начала исследований (Phase 0) и повторно после дизайн-фазы.*

- Соответствуем ли базовой архитектуре FSD?
- Нет ли скрытой зависимости от TypeScript или серверных компонентов?
- Согласованы ли правила тестирования (только финальная фаза)?
- Все ли инструменты подтверждены контекстом (context7 или спецификация)?

Если возникает нарушение — зафиксируй причину и план устранения.

---

## Структура артефактов

### Каталог фичи

```
specs/[###-feature-name]/
├── plan.md          # текущий документ
├── research.md      # Phase 0 (решения, ссылки из context7)
├── data-model.md    # модели данных и связи
├── quickstart.md    # запуск/проверка
├── contracts/       # API-контракты, схемы
└── tasks.md         # список задач (генерируется отдельно)
```

### Структура исходников

```
src/
├── app/             # инициализация приложения, маршрутизация, провайдеры
├── processes/       # долгоживущие процессы (auth, session и т.д.)
├── pages/           # страницы верхнего уровня
├── widgets/         # композиции из features/entities
├── features/        # публичный API каждой функции
├── entities/        # модели предметной области + UI/логика
└── shared/
    ├── lib/         # утилиты, helpers
    ├── api/         # клиенты к внешним сервисам
    ├── config/      # константы, настройки
    └── ui/          # базовые компоненты (включая shadcn/ui)

public/              # статика Vite
styles/              # Tailwind и PostCSS-конфигурация
```

**Отклонения**: [Если структура отличается — опиши и обоснуй].

---

## Фазы

1. **Phase 0 — Research**
   - Сбор вопросов `NEEDS CLARIFICATION`, подготовка `research.md`.
   - Запрос документации через context7 (Tailwind/Vite/React/shadcn) с сохранением ссылок.
   - Финальный список принятых решений и источников.

2. **Phase 1 — Design**
   - Обновление `data-model.md`, определение сущностей и связей.
   - Настройка инфраструктуры: `vite.config.js`, `tailwind.config.js`, `postcss.config.js`.
   - Обновление `quickstart.md` (команды `npm install`, `npm run dev`, `npm run build` и т.д.).
   - Синхронизация контекстов агентов (`update-agent-context`).

3. **Phase 2 — Tasks**
   - Генерация `tasks.md`, точно указывая файлы и зависимости.
   - Пометка тестовых задач только в финальной фазе.
   - Проверка соответствия задач пользовательским историям.

4. **Phase 3 — Implementation**
   - Реализация user story по приоритету (P1 → ...).
   - После “feature complete” — тесты, документация, сборка.
   - Обновление чеклистов и quickstart.

---

## Контроль сложности и рисков

| Нарушение / риск | Обоснование | План снижения | Норма конституции |
|------------------|-------------|---------------|-------------------|
| [пример: добавляем новый процесс] | [почему это нужно] | [что делаем] | [пункт документа] |

---

## План тестирования (финальная фаза)

- Автотесты/ручные сценарии выполняются **после** завершения всех историй.  
- Проверка сборки: `npm run build`, `npm run preview`.  
- Визуальные и accessibility-прогоны (если указаны в требованиях).  
- Если подключён TypeScript — отдельный шаг `tsc --noEmit`.

---

## Источники и ссылки

- context7:  
  - Tailwind — [ID / ссылка]  
  - Vite — [ID / ссылка]  
  - React — [ID / ссылка]  
  - shadcn/ui — [ID / ссылка]
- Дополнительные материалы: [при необходимости].
- Открытые вопросы: [что ещё нужно уточнить у заказчика].
