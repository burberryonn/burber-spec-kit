---
description: Создать или обновить спецификацию на основе пользовательского запроса, соблюдая правила FSD + Vite + React + Tailwind + shadcn/ui.
scripts:
  sh: scripts/bash/create-new-feature.sh --json "{ARGS}"
  ps: scripts/powershell/create-new-feature.ps1 -Json "{ARGS}"
---

## Пользовательский ввод

```text
$ARGUMENTS
```

Если вход пустой — сообщи об ошибке и остановись.

---

## Алгоритм

1. **Запусти скрипт** `{SCRIPT}` из корня репозитория *один раз*. Разбери JSON и сохрани:
   - `BRANCH_NAME`
   - `SPEC_FILE`
   - абсолютный путь к каталогу фичи  
   Ошибка или пустые поля → остановись.

2. **Загрузить шаблон** `templates/spec-template.md` и следовать его структуре (документ на русском языке).

3. **Разобрать запрос пользователя**:
   - Выдели акторов, их цели, ключевые функции.
   - Предположения делай на основе типового веб-лендинга и указанных целей.
   - Используй метки `[NEEDS CLARIFICATION: …]` только для критичных вопросов (максимум 3).

4. **Заполнить разделы**:
   - Пользовательские истории: приоритеты P1/P2/…, каждая история должна быть автономной.
   - Требования: только проверяемые, без деталей реализации. Напомни, что базовый стек — FSD + Vite + React + Tailwind + shadcn/ui, TypeScript подключается только если явно требует пользователь.
   - Нефункциональные требования и ограничения — по необходимости, фиксируй производительность, доступность и т.п.
   - Критерии успеха: количественные метрики и пользовательские результаты.
   - Ассумпции, ключевые сущности, вопросы.

5. **Сформировать `spec.md`**:
   - Заполни все placeholders, сохрани порядок заголовков и комментарии из шаблона.
   - Текст — на русском, без кода и HTML/CSS.
   - Не меняй другие файлы.

6. **Создать чеклист качества** `FEATURE_DIR/checklists/requirements.md` по структуре `templates/checklist-template.md`, добавив пункты:
   - нет деталей реализации;
   - требования тестируемы;
   - критерии успеха измеримы;
   - все `[NEEDS CLARIFICATION]` учтены.

7. **Проверить спецификацию**:
   - Отметь выполненные пункты `[x]`, проблемные — оставь `[ ]` и опиши, что нужно исправить.
   - Если остались незакрытые пункты, сообщи об этом пользователю.

8. **Отчёт**:
   - Укажи ветку и путь к `spec.md`.
   - Сколько пунктов чеклиста закрыто.
   - Какие вопросы/риски требуют ответа.

---

## Нельзя

- Генерировать HTML/CSS/JS или начинать архитектурные решения FSD на этом шаге.
- Игнорировать конституцию проекта или базовый стек.
- Менять файлы вне `spec.md` и чеклиста.
