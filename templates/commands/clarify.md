---
description: Сформировать список уточняющих вопросов по спецификации, плану и исследованиям перед генерацией задач.
scripts:
  sh: scripts/bash/check-prerequisites.sh --json
  ps: scripts/powershell/check-prerequisites.ps1 -Json
---

## Пользовательский ввод

```text
$ARGUMENTS
```

Если пользователь дал дополнительные указания, учитывай их при формулировке вопросов.

---

## Контекст

Команда выполняется после `/speckit.specify`, но до `/speckit.plan` либо сразу после, если в план ещё остались неопределённости.

---

## Алгоритм

1. Запусти `{SCRIPT}` из корня. Получи `FEATURE_DIR`, проверь наличие `spec.md` и (если есть) `plan.md`, `research.md`.

2. Прочитай `spec.md`:
   - Выяви истории с метками `NEEDS CLARIFICATION`.
   - Проверяй, хватает ли данных для каждого функционального требования и критерия успеха.

3. Если `plan.md` уже существует:
   - Сравни технический контекст и структуру с требованиями из спецификации.
   - Найди места, где план зависит от неподтверждённых решений (например, сторонние API, хранение данных).

4. Сформируй список вопросов:
   - Не более 5 за раз, начиная с блокирующих (влияют на архитектуру, безопасность, сроки).
   - Каждый вопрос — короткий, конкретный, содержит контекст из спецификации или плана.
   - Если возможны варианты решений, предложи 2–3 опции с кратким описанием плюсов/минусов.

5. Представь вопросы в таблице:

| ID | Категория | Вопрос | Предлагаемые варианты |
|----|-----------|--------|-----------------------|
| Q1 | Архитектура | … | A) … / B) … |

6. Заверши вывод инструкцией для пользователя: попроси ответить на вопросы в формате `Q1: вариант`, либо предоставить дополнительную информацию.

---

## Нельзя

- Генерировать задачи или править `spec.md`/`plan.md`.
- Предлагать решения, противоречащие FSD + Vite + React + Tailwind + shadcn/ui, если пользователь прямо не просит иначе.
- Пропускать обозначенные в спецификации `NEEDS CLARIFICATION`.
