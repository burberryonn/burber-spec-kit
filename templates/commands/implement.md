---
description: Выполнить tasks.md, соблюдая архитектуру FSD и правило «тесты после завершения функционала».
scripts:
  sh: scripts/bash/check-prerequisites.sh --json --require-tasks --include-tasks
  ps: scripts/powershell/check-prerequisites.ps1 -Json -RequireTasks -IncludeTasks
---

## Подготовка

1. Запусти `{SCRIPT}` из корня репозитория. Получи `FEATURE_DIR`, `PLAN_PATH`, `TASKS_PATH` и перечень доступных документов. Если `tasks.md` отсутствует — остановись и попроси пользователя вызвать `/speckit.tasks`.
2. Проверь чеклисты в `FEATURE_DIR/checklists/`:
   - посчитай `[ ]` и `[x]`;
   - если есть незакрытые пункты — покажи таблицу и спроси, можно ли продолжать.
3. Загрузить контекст: `plan.md`, `tasks.md`, при наличии — `research.md`, `data-model.md`, `contracts/`, `quickstart.md`. Убедись, что стек в `plan.md` соответствует FSD + Vite + React + Tailwind + shadcn/ui.

---

## Правила исполнения

- Выполняй задачи строго по фазам и зависимостям из `tasks.md`.
- `[P]` означает, что задачи можно выполнять параллельно (разные файлы).
- Сохраняй границы FSD: импорт только “снизу вверх” (`shared → entities → features → widgets → pages → app`).
- Не добавляй TypeScript, если это не указано в спецификации/плане.
- Все тесты (авто и ручные) выполняются только в финальной фазе “Завершение и тестирование”.
- После завершения каждой задачи отмечай её `[x]` в `tasks.md`.

---

## Фазы

1. **Инициализация** — структура проекта, конфигурация Vite, Tailwind, shadcn/ui.
2. **Инфраструктура** — общие провайдеры, базовые сущности и компоненты.
3. **Пользовательские истории** — выполняй по приоритету (P1 → P2 → …). Каждая история должна оставаться независимой и демонстрабельной.
4. **Завершение и тесты** — документация, `npm run build`, `npm run preview`, ручные проверки, запуск тестов (если предусмотрены), актуализация чеклистов.

Если задача блокируется `NEEDS CLARIFICATION`, остановись и запроси уточнение.

---

## Контроль качества

- После завершения фазы сообщай, какие файлы изменены и какие задачи закрыты.
- Убедись, что компоненты shadcn/ui лежат в `shared/ui`, а логика распределена по слоям FSD.
- Любые отклонения от плана документируй с указанием причины и ссылки на требования.
- По итогам проверь, что все задачи в `tasks.md` отмечены выполненными.

---

## Финальный отчёт

Укажи:
1. Состояние задач (все `[x]`).
2. Результаты сборки/тестов.
3. Обновлённые чеклисты (прошли / остались пункты).
4. Использованные материалы context7 (если обращался).
5. Оставшиеся риски или рекомендации по дальнейшим шагам.

При любой критической ошибке (сборка не проходит, тесты падают) остановись и запроси дальнейшие инструкции.
