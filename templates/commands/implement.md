---
description: Выполнить tasks.md, сохраняя архитектуру FSD и стек Vite + React + TypeScript + Mantine.
scripts:
  sh: scripts/bash/check-prerequisites.sh --json --require-tasks --include-tasks
  ps: scripts/powershell/check-prerequisites.ps1 -Json -RequireTasks -IncludeTasks
---

## Подготовка

1. Запусти `{SCRIPT}` из корня репозитория. Получи `FEATURE_DIR`, `PLAN_PATH`, `TASKS_PATH` и список доступных документов. Если `tasks.md` отсутствует — остановись и предложи запустить `/speckit.tasks`.
2. Проверь чеклисты в `FEATURE_DIR/checklists/`:
   - посчитай `[ ]` и `[x]`;
   - если есть незакрытые пункты — покажи таблицу и спроси, можно ли продолжать.
3. Загрузить контекст: `plan.md`, `tasks.md`, (при наличии) `research.md`, `data-model.md`, `contracts/`, `quickstart.md`.

---

## Правила исполнения

- Выполняй задачи строго по фазам и зависимостям из `tasks.md`.
- `[P]` означает, что задачи можно вести параллельно (разные файлы).
- Соблюдай границы FSD: импорт “снизу вверх” (`shared → entities → features → widgets → pages → app`).
- Стек обязателен: Vite + React + TypeScript (strict) + Mantine (Emotion), Zustand (или другой утверждённый стор), i18next.
- Никакого Tailwind, никаких сторонних CSS-фреймворков.
- Финальные проверки (`tsc --noEmit`, `eslint`, `prettier`, `vitest`, `vite build`, `vite preview`) выполняются в заключительной фазе.
- После завершения задачи отмечай её `[x]` в `tasks.md`.

---

## Фазы

1. **Инициализация** — структура проекта, конфигурация Vite/TS, MantineProvider, i18n, Zustand.
2. **Инфраструктура** — общие сущности, shared/ui, тема Mantine, роутинг, ErrorBoundary.
3. **Пользовательские истории** — реализуй по приоритету (P1 → ...), сохраняя независимость историй.
4. **Завершение и тесты** — документация, `npm run lint`, `npm run typecheck`, `npm run build`, `npm run preview`, запуск Vitest, обновление чеклистов.

Если задача блокируется `NEEDS CLARIFICATION`, остановись, запроси уточнение и обнови соответствующие документы.

---

## Контроль качества

- После каждой фазы перечисли изменённые файлы и закрытые задачи.
- Убедись, что UI реализован через Mantine (shared/ui, shared/config/theme).
- Документируй отклонения от плана с причинами и ссылками на требования.
- В конце проверь, что все задачи помечены `[x]`, чеклисты актуальны, артефакты `plan.md`/`tasks.md` синхронизированы.

---

## Финальный отчёт

Укажи:
1. Выполненные проверки (`tsc`, `eslint`, `prettier`, `vitest`, `build`, `preview`).
2. Состояние чеклистов (сколько пунктов закрыто / осталось).
3. Обновлённые документы (docs, ADR, changelog).
4. Ссылки на материалы context7 (если использовал).
5. Оставшиеся риски или рекомендации для следующей итерации.

При любой критической ошибке (не проходит build, падают тесты) остановись и запроси дальнейшие инструкции.
