---
description: Исполнить tasks.md, соблюдая архитектуру FSD и правило «тесты в конце».
scripts:
  sh: scripts/bash/check-prerequisites.sh --json --require-tasks --include-tasks
  ps: scripts/powershell/check-prerequisites.ps1 -Json -RequireTasks -IncludeTasks
---

## Подготовка

1. Выполните `{SCRIPT}` из корня репозитория. Разберите JSON:
   - `FEATURE_DIR`, `PLAN_PATH`, `TASKS_PATH`, список доступных документов.
   - Если `tasks.md` отсутствует — остановитесь и предложите запустить `/speckit.tasks`.
2. Проверьте чеклисты (`FEATURE_DIR/checklists/*`):
   - Посчитайте количества `[ ]` и `[x]`.
   - Если есть незакрытые пункты, покажите таблицу и спросите, продолжать ли выполнение. Уважайте ответ пользователя.
3. Загрузите контекст:
   - `plan.md`, `tasks.md`, `research.md`, `data-model.md`, `contracts/`, `quickstart.md` (при наличии).
   - Убедитесь, что план фиксирует стек FSD + Vite + React + Tailwind + shadcn/ui.

---

## Правила выполнения

- Следуйте фазам и порядку из `tasks.md`.  
- `[P]` означает, что задачи можно выполнять параллельно (разные файлы).  
- Любые изменения файлов из разных слоёв FSD должны сохранять границы (например, `features` не импортирует напрямую из `widgets`).  
- Не добавляйте TypeScript, если это не указано в спецификации или планах.
- Если для реализации требуется дополнительная информация, используйте context7 (как в `/speckit.plan`) и приложите ссылки к отчёту.
- После выполнения задачи помечайте её как `[x]` в `tasks.md`.

---

## Исполнение

1. **Фаза 1** — инициализация: настройки Vite, Tailwind, структура директорий.
2. **Фаза 2** — инфраструктура: общие провайдеры, базовые сущности/компоненты.
3. **Фазы пользовательских историй**:
   - Выполняйте истории по приоритету (P1 → P2 → ...).
   - Убедитесь, что история остаётся независимой (можно продемонстрировать отдельно).
   - При необходимости обновляйте контекст Roo Code.
4. **Финальная фаза** — тестирование и выпуск:
   - Только здесь запускайте и пишите тесты (авто/ручные), `npm run build`, `npm run preview`.
   - Обновите документацию, чеклисты и `quickstart.md`.

Если во время выполнения задача блокируется вопросом из `NEEDS CLARIFICATION`, остановитесь и запросите уточнение.

---

## Контроль качества

- После каждой фазы делайте краткий отчёт: какие файлы изменены, какие задачи закрыты.
- Проверяйте консистентность FSD: импорты идут сверху вниз (`shared → entities → features → widgets → pages → app`).
- tailwind/shadcn компоненты должны располагаться в `shared/ui` и переиспользоваться.
- Если приходилось отклоняться от плана, зафиксируйте причину и ссылку на спецификацию.

---

## Завершение

1. Подтвердите, что все задачи в `tasks.md` отмечены.
2. Опишите итог: реализованные истории, состояние чеклистов, результаты сборок/тестов.
3. Укажите, какие материалы из context7 использованы (если были).
4. Отметьте, что тесты выполнены после завершения функционала.
5. Если остались риски или долги — перечислите их с предложениями по следующему шагу.

При любой критической ошибке (сборка падает, команды npm не выполняются) приостановите выполнение и запросите дальнейшие инструкции.
